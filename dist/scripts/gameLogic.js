const firstNumber=document.getElementById("firstNumber"),secondNumber=document.getElementById("secondNumber"),operator=document.getElementById("operator"),result=document.getElementById("result"),form=document.getElementById("gameForm"),scoreElement=document.getElementById("scoreForm"),task=document.getElementById("task"),scoreCounter=document.getElementById("scoreCounter"),correct=document.getElementById("correctAnswer"),incorrect=document.getElementById("incorrectAnswer"),totalScore=document.getElementById("totalScore"),getRandom=(e,t)=>(e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e),operators=["+","-","*","/"],calculate=(e,t,r)=>{switch(r){case"+":return e+t;case"-":return e-t;case"/":return e/t;default:return e*t}},generateExample=()=>{const e=getRandom(1,10),t=getRandom(1,10),r=operators[getRandom(0,3)];return"/"===r&&e%t!=0?generateExample():{firstNumber:e,secondNumber:t,operator:r,result:calculate(e,t,r)}},renderExample=e=>{task.classList.remove("animation"),firstNumber.textContent=e.firstNumber,secondNumber.textContent=e.secondNumber,operator.textContent=e.operator};let example=generateExample();renderExample(example);const runAnimation=()=>{task.classList.remove("animationIn"),scoreCounter.classList.remove("animation"),requestAnimationFrame((()=>{scoreCounter.classList.add("animation"),task.classList.add("animationIn")}))};let activeCount=0,correctAnswer=0,incorrectAnswer=0;const scoreCounterIncrement=()=>{scoreCounter.textContent="+1",scoreCounter.classList.remove("incorrect"),scoreCounter.classList.add("correct"),correctAnswer++,scoreElement.classList.remove("inсorrect")},scoreCounterDecrement=()=>{scoreCounter.textContent="-1",scoreCounter.classList.remove("correct"),scoreCounter.classList.add("incorrect"),incorrectAnswer++,scoreElement.classList.add("inсorrect"),setTimeout((()=>{scoreElement.classList.remove("inсorrect")}),1e3)},onSubmit=e=>{e.preventDefault(),task.classList.remove("animationIn"),scoreCounter.classList.remove("animation"),requestAnimationFrame((()=>{scoreCounter.classList.add("animation"),task.classList.add("animationIn")})),result.value&&(Number(result.value)===Number(example.result)?(activeCount+=1,scoreElement.textContent="+1",scoreCounter.textContent="+1",scoreCounter.classList.remove("incorrect"),scoreCounter.classList.add("correct"),correctAnswer++,scoreElement.classList.remove("inсorrect")):(activeCount-=1,scoreElement.textContent="-1",scoreCounter.textContent="-1",scoreCounter.classList.remove("correct"),scoreCounter.classList.add("incorrect"),incorrectAnswer++,scoreElement.classList.add("inсorrect"),setTimeout((()=>{scoreElement.classList.remove("inсorrect")}),1e3)),scoreElement.textContent=activeCount,result.value="",example=generateExample(),renderExample(example))};export const _renderGame=()=>{task.classList.add("animationIn"),form.addEventListener("submit",onSubmit),document.getElementById("stopGamebtn").addEventListener("click",gameOver)};export const gameOver=()=>{correct.textContent=correctAnswer,incorrect.textContent=incorrectAnswer,totalScore.textContent=activeCount;const e=localStorage.getItem("storageName"),t=localStorage.getItem("mode"),r=JSON.parse(localStorage.getItem(`${t}-leaderboard`)),o=r[e];activeCount>o.highScore&&(r[e]={...o,highScore:activeCount},localStorage.setItem(`${t}-leaderboard`,JSON.stringify(r)));const n=document.getElementById("popup"),s=document.getElementById("congratulations");n.classList.add("active"),form.style.display="none",s.classList.add("active"),new ConfettiGenerator({target:"congratulations"}).render()};